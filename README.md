# Тестовое задание для отбора на Летнюю ИТ-школу КРОК по разработке

## Условие задания
Будучи тимлидом команды разработки, вы получили от менеджера проекта задачу повысить скорость разработки. Звучит, как начало плохого анекдота, но, тем не менее, решение вам все же нужно найти. В ходе размышлений и изучений различного внешнего опыта других команд разработки вы решили попробовать инструменты геймификации. То есть применить техники и подходы игрового характера с целью повышения вовлеченности команды в решение задач.

Вами была придумана рейтинговая таблица самых активных контрибьютеров за спринт. Что это значит в теории: по окончании итерации (4 рабочие недели) выгружается список коммитов, сделанных в релизную ветку продукта, и на его основе вычисляются трое самых активных разработчиков, сделавших наибольшее количество коммитов. В зависимости от занятого места, разработчик получает определенное количество внутренней валюты вашей компании, которую он впоследствии может обменять на какие-то товары из внутреннего магазина.

На практике вы видите решение следующим образом: на следующий день после окончания спринта в 00:00 запускается автоматическая процедура, которая забирает файл с данными о коммитах в релизную ветку, сделанных в период спринта, после чего выполняется поиск 3-х самых активных контрибьютеров. Имена найденных разработчиков записываются в файл, который впоследствии отправляется вам на почту.

В рамках практической реализации данной задачи вам необходимо разработать процедуру формирование отчета “Топ-3 контрибьютера”. Данная процедура принимает на вход текстовый файл (commits.txt), содержащий данные о коммитах (построчно). Каждая строка содержит сведения о коммите в релизную ветку в формате: “_<Имя пользователя> <Сокращенный хэш коммита> <Дата и время коммита>_”.
Например: AIvanov 25ec001 2024-04-24T13:56:39.492

К данным предъявляются следующие требования:
- имя пользователя может содержать латинские символы в любом регистре, цифры (но не начинаться с них), а также символ "_";
- сокращенный хэш коммита представляет из себя строку в нижнем регистре, состояющую из 7 символов: букв латинского алфавита, а также цифр;
- дата и время коммита в формате YYYY-MM-ddTHH:mm:ss.

В результате работы процедура формирует новый файл (result.txt), содержащий информацию об именах 3-х самых активных пользователей по одному в каждой строке в порядке убывания места в рейтинге. Пример содержимого файла:
AIvanov
AKalinina
CodeKiller777

Ручной ввод пути к файлу (через консоль, через правку переменной в коде и т.д.) недопустим. Необходимость любых ручных действий с файлами в процессе работы программы будут обнулять решение.

## Автор решения
Динмухаметов Ильнур Маратович
## Описание реализации
Описание классов:
- Application.java - точка входа в приложение
- ApplicationConfig.java - содержит конфигурацию приложения: объявление констант
- Reader.java - выполняет функцию чтения данных из файла
- Validator.java - выполняет функцию валидации данных
- TopNPicker.java - выполняет функцию выборки определенного числа контрибьютеров которые сделали наибольшее число коммитов
- Writer.java - выполняет функцию записи результатов в файл
- В папке src/test хранятся тесты на все методы классов  

Описания выбора контрибьютеров, которые заняли места в рейтинге:
<br>
<br>
Я реализовал логику занятия определенных мест, которая зачастую используется в различных рейтингах или соревнованиях. Если в итоге имеется несколько человек набравших одинаковое число коммитов: предположим Аня - 4, Боря - 4, Ваня - 3, Галя - 2, то первое место займет Аня и Боря, второго места не будет, т.к перед Ваней в топе будет 2 человека, Ваня занимает 3 место т.к по счету он третий. В другой ситуации если 4 человека набрали одинаковое кол-во очков, все займут первое место, у следующего человека после них будет уже пятое.
<br>
<br>
С детальным описанием реализации методов можно ознакомиться в коде над методами. Вот краткий алгоритм работы программы: 
1. Построчное чтение файла commits.txt, который расположен по пути src/main/resources/commits.txt. Валидация строк и запись корректных коммитов в Map, где key - имя контрибьютера, value - количество его коммитов. (Reader.java, Validator.java)
<br>
2. Далее из этой Map формируется рейтинг контрибьютеров на основе количества их коммитов. Строится Map, где key - занимаемое место в рейтинге, value - Set имён контрибьютеров. (TopNPicker.java)
<br>
3. На последнем этапе по новой Map'е заполняется файл result.txt по пути src/main/resources/result.txt. (Writer.java)
<br>

## Инструкция по сборке и запуску решения
Приложение использует систему сборки Maven для управления зависимостями и сборки проекта.
Перед запуском проекта у вас должны быть установлены следующие компоненты:

- Java Development Kit (JDK) 21
- Maven
1. **Скачивание репозитория**

   Скачайте репозиторий на ваш локальный компьютер по ссылке: https://github.com/Ilnur37/school2024-test-task4/tree/task. Извлеките зип архив.
2. **Сборка**

   Откройте командную строку и перейдите в корень проекта
```bash
   cd C:\Users\ilnur\school2024-test-task4\school2024-test-task4-task
```
2. **Запуск**

   Запустите приложение
```bash
   java -jar target/task-1.0.0.jar
```