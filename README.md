# Тестовое задание для отбора на Летнюю ИТ-школу КРОК по разработке

## Условие задания
Будучи тимлидом команды разработки, вы получили от менеджера проекта задачу повысить скорость разработки. Звучит, как начало плохого анекдота, но, тем не менее, решение вам все же нужно найти. В ходе размышлений и изучений различного внешнего опыта других команд разработки вы решили попробовать инструменты геймификации. То есть применить техники и подходы игрового характера с целью повышения вовлеченности команды в решение задач.

Вами была придумана рейтинговая таблица самых активных контрибьютеров за спринт. Что это значит в теории: по окончании итерации (4 рабочие недели) выгружается список коммитов, сделанных в релизную ветку продукта, и на его основе вычисляются трое самых активных разработчиков, сделавших наибольшее количество коммитов. В зависимости от занятого места, разработчик получает определенное количество внутренней валюты вашей компании, которую он впоследствии может обменять на какие-то товары из внутреннего магазина.

На практике вы видите решение следующим образом: на следующий день после окончания спринта в 00:00 запускается автоматическая процедура, которая забирает файл с данными о коммитах в релизную ветку, сделанных в период спринта, после чего выполняется поиск 3-х самых активных контрибьютеров. Имена найденных разработчиков записываются в файл, который впоследствии отправляется вам на почту.

В рамках практической реализации данной задачи вам необходимо разработать процедуру формирование отчета “Топ-3 контрибьютера”. Данная процедура принимает на вход текстовый файл (commits.txt), содержащий данные о коммитах (построчно). Каждая строка содержит сведения о коммите в релизную ветку в формате: “_<Имя пользователя> <Сокращенный хэш коммита> <Дата и время коммита>_”.
Например: AIvanov 25ec001 2024-04-24T13:56:39.492

К данным предъявляются следующие требования:
- имя пользователя может содержать латинские символы в любом регистре, цифры (но не начинаться с них), а также символ "_";
- сокращенный хэш коммита представляет из себя строку в нижнем регистре, состояющую из 7 символов: букв латинского алфавита, а также цифр;
- дата и время коммита в формате YYYY-MM-ddTHH:mm:ss.

В результате работы процедура формирует новый файл (result.txt), содержащий информацию об именах 3-х самых активных пользователей по одному в каждой строке в порядке убывания места в рейтинге. Пример содержимого файла:
AIvanov
AKalinina
CodeKiller777

Ручной ввод пути к файлу (через консоль, через правку переменной в коде и т.д.) недопустим. Необходимость любых ручных действий с файлами в процессе работы программы будут обнулять решение.

## Автор решения
Булатов Тимофей Дмитриевич
tg: @Wolter666
mail: m2205544@edu.misis.ru
## Описание реализации

CommitParser

Класс CommitParser ответственен за парсинг данных из файла с коммитами и запись результатов в файл. При вызове метода parseFile(), программа начинает чтение данных из файла. Каждая строка анализируется с помощью экземпляра класса Validator, который проверяет соответствие строки формату коммита. Если строка соответствует формату, она добавляется в карту contributorMap, где каждый пользователь представлен объектом класса User. Затем происходит сортировка пользователей по количеству коммитов и дате последнего коммита. Топ-3 пользователей записываются в файл вывода. Так как в задании не было сказано, как опрелелять победителей, если число коммитов одинаково. Было решено поощрять тех, кто выполнил свое последнее задание раньше всех, поэтому при одинаковом количестве коммитов в рейтинг попадает тот, у кого послдений коммит сделан раньше.

Validator

Класс Validator занимается валидацией формата строки с коммитом. Метод validateCommit() проверяет каждую строку на соответствие формату. Если строка не соответствует формату, возвращается сообщение об ошибке, иначе возвращается null. Написаны методы, которые проверяют отдельно Имя, хэш и дату и в зависимости от ошибки возращают нужное сообщение.

User

User представляет собой объект, содержащий информацию о пользователе, включая имя, количество коммитов и дату последнего коммита.

FileFinder

Класс FileFinder используется для поиска файлов на компьютере. Метод findFile() принимает имя файла и начинает поиск с корневого каталога. Если файл найден, возвращается его абсолютный путь, иначе возвращается null. FileFinder используется только в том случае, если необходимые файлы не находятся в основном каталоге. Это позволяет удобно управлять расположением файлов и использовать приложение в различных окружениях. Данная реализация заккоментирована и используется поиск файла в текущем каталоге, однако в любой момент можно поменять реализацию.

Логирование

Для логирования используется стандартный java.util.logging. Информация о работе программы выводится как в консоль, так и в файлы логов.

ValidatorTest

Также реализованы несколько юнит-тестов для класса Validator.

## Инструкция по сборке и запуску решения
Загрузка проекта с Git:
Клонирование репозитория:
     Откройте терминал или командную строку и выполните следующую команду для клонирования репозитория с GitHub:
	git clone https://github.com/Wolter66/school2024-test-task4.git
Настройка среды разработки:
     Открытие проекта в IDE:
	Откройте среду разработки (например, IntelliJ IDEA, Eclipse или NetBeans) и импортируйте проект в IDE. Выберите опцию "Open" или "Import", затем укажите путь к каталогу, в который был склонирован репозиторий.

    Установка JDK:
	Убедитесь, что в вашей среде разработки настроена совместимая версия Java Development Kit (JDK), необходимая для проекта.
Сборка проекта с использованием Maven:

    Установка Maven (если необходимо):
	Если Maven еще не установлен на вашем компьютере, загрузите его с официального сайта и выполните установку.

    Сборка проекта:
	В корневой директории проекта запустите команду сборки Maven:
	    mvn clean install

Запуск приложения:

    Выполнение JAR-файла:
	После сборки приложения найдите JAR-файл в директории target. Запустите его с помощью команды:
	    java -jar Task-1.0-SNAPSHOT.jar

Проверка результатов:
После успешного запуска приложения результаты его работы, которые будут записаны в соответствующий файл.

Второй вариант
Подготовка к запуску:

    Установка Java Development Kit (JDK):
    Убедитесь, что на вашем компьютере установлена JDK. Минимальная версия JDK должна быть совместима с использованными в проекте классами и функциональностью.

    Настройка среды разработки (по желанию):
    Для удобства работы рекомендуется использовать среду разработки, такую как IntelliJ IDEA, Eclipse или NetBeans. Если вы используете какую-то из них, импортируйте проект в IDE.

    Подготовка файлов с данными:
    Убедитесь, что у вас есть файл с коммитами (commits.txt), который содержит данные о коммитах в формате "имя пользователя хэш_коммита дата_коммита". Также убедитесь, что есть файл для записи результатов (result.txt).

Сборка проекта:

    Добавление классов в проект:
    Скопируйте все классы из предоставленного кода и добавьте их в ваш проект.

    Проверка зависимостей:
    Убедитесь, что ваш проект содержит все необходимые зависимости. Если вам нужны дополнительные библиотеки, установите их с помощью Maven или Gradle.

Запуск решения:
    Создание экземпляра CommitParser в классе Main:
    В вашем приложении создайте экземпляр класса CommitParser в классе Main, передав названия файлов с коммитами и для записи результатов в конструктор.
CommitParser commitParser = new CommitParser("commits.txt", "result.txt");

Вызов метода parseFile():
Вызовите метод parseFile() для обработки данных и записи результатов в файл.
commitParser.parseFile();

Проверка результатов:
    Проверка записанного файла:
    После выполнения программы в указанном файле для записи результатов содержится "Топ-3 контрибьютера”.
