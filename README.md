# Тестовое задание для отбора на Летнюю ИТ-школу КРОК по разработке

## Условие задания
Будучи тимлидом команды разработки, вы получили от менеджера проекта задачу повысить скорость разработки. Звучит, как начало плохого анекдота, но, тем не менее, решение вам все же нужно найти. В ходе размышлений и изучений различного внешнего опыта других команд разработки вы решили попробовать инструменты геймификации. То есть применить техники и подходы игрового характера с целью повышения вовлеченности команды в решение задач.

Вами была придумана рейтинговая таблица самых активных контрибьютеров за спринт. Что это значит в теории: по окончании итерации (4 рабочие недели) выгружается список коммитов, сделанных в релизную ветку продукта, и на его основе вычисляются трое самых активных разработчиков, сделавших наибольшее количество коммитов. В зависимости от занятого места, разработчик получает определенное количество внутренней валюты вашей компании, которую он впоследствии может обменять на какие-то товары из внутреннего магазина.

На практике вы видите решение следующим образом: на следующий день после окончания спринта в 00:00 запускается автоматическая процедура, которая забирает файл с данными о коммитах в релизную ветку, сделанных в период спринта, после чего выполняется поиск 3-х самых активных контрибьютеров. Имена найденных разработчиков записываются в файл, который впоследствии отправляется вам на почту.

В рамках практической реализации данной задачи вам необходимо разработать процедуру формирование отчета “Топ-3 контрибьютера”. Данная процедура принимает на вход текстовый файл (commits.txt), содержащий данные о коммитах (построчно). Каждая строка содержит сведения о коммите в релизную ветку в формате: “_<Имя пользователя> <Сокращенный хэш коммита> <Дата и время коммита>_”.
Например: AIvanov 25ec001 2024-04-24T13:56:39.492

К данным предъявляются следующие требования:
- имя пользователя может содержать латинские символы в любом регистре, цифры (но не начинаться с них), а также символ "_";
- сокращенный хэш коммита представляет из себя строку в нижнем регистре, состояющую из 7 символов: букв латинского алфавита, а также цифр;
- дата и время коммита в формате YYYY-MM-ddTHH:mm:ss.

В результате работы процедура формирует новый файл (result.txt), содержащий информацию об именах 3-х самых активных пользователей по одному в каждой строке в порядке убывания места в рейтинге. Пример содержимого файла:
AIvanov
AKalinina
CodeKiller777

Ручной ввод пути к файлу (через консоль, через правку переменной в коде и т.д.) недопустим. Необходимость любых ручных действий с файлами в процессе работы программы будут обнулять решение.

## Автор решения
Семенов Марсель Евгеньевич
## Описание реализации
Решение предоставлено на языке Java.

В коде будет описано всё также как и ниже, только в виде комментариев.

Первым делом создаю папку data, куда помещаю файл commit.txt из которого будут браться данные.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/adf708cc-4edc-4e4a-9dee-22af3273177c)

Далее создаю класс DataAnalytics, в нём создаю метод getAnalytics(), в котором будет вся логика.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/cb7caed2-3ed2-4df5-a836-5269b6d2dc00)

Потом создаю 2 переменные: в первой хранится путь до файла с данными, во второй путь где будт создан файл с результатом.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/67fbbabd-3a1e-49ea-a428-3cfe14a8dd4d)

Затем создаю мапу где буду хранить имена пользователей и количество их коммитов.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/0e17a7a8-e579-43a3-bb0a-ec59e4fc1c5e)

После создаю объект класса BufferedReader, чтобы прочитать файл.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/a6634f71-ce0e-43e8-b091-ffa48735ac4e)

Читаю файл построчно, разделяя строки на слова с помощью пробела и беру первое слово(имя пользователя). Записываю в мапу имя и количество его появления в файле с коммитами.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/e93fa50c-1c03-4249-9c86-eb6fbf1f61d1)

Создаю список в который добавлю нужные мне имена из мапы, сортирую их по кол-ву коммитов, ограничиваю количество элементов в списук тремя(те самые с наибольшим кол-вом коммитов), преобразую имена и собираю результаты в список.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/9774350c-7af7-4ab8-bbb7-739a735b3f4f)

Создаю строку в которую запишу все значения из списка согласно требованиям и записываю в неё элементы списка разделяя их пробелом.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/c20120e7-f82b-478c-bdff-c8d05ab62966)

Потом создаю файл для записи результата, если такого файла нет, вывожу соответствующее сообщение в консоль

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/61d572af-02d7-419d-8ab9-29c2c8c29122)

Затем создаю экземпляр класса BufferedWriter чтобы записать строку с результатом в файл и записываю её.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/7c09d93a-2c2d-431e-9395-8bf577709605)

Возвращаю строку с результатом.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/50a8bf14-4276-49af-92e5-5c9e96a9c49a)

Далее перехожу в класс Main, создаю экземпляр класса DataAnalytics, чтобы получить доступ к методу getAnalytics и вывожу результат в консоль.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/d7f1d5b8-5662-4a73-a187-b7f7074e47ed)

В конце проверяю что в директории data создался файл с резултатами.

![изображение](https://github.com/slattchrome/school2024-test-task4/assets/112937058/9f3ddd55-a4dd-4190-9e77-dfef6f13b773)

## Инструкция по сборке и запуску решения
1. Откройте проект в вашей среде разработки
2. Откройте папку src и перейдите в класс Main
3. Запустите код и наблюдайте вывод в консоли
4. Перейдите в папку data и откройте созданный файл result.txt с результатом
